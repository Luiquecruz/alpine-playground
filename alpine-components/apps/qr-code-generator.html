<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="../config.css">

  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
  <header>
    <a href="../index.html"> ⬅️ back </a>
  </header>

  <main x-data="initQrCode()">
    <div class="mx-auto p-4 rounded shadow max-w-md">
      <h1 class="text-xl text-center font-bold text-black mt-4">QR Code Generator</h1>

      <img :src="src" alt="qr code" class="w-[200px] h-[200px] mx-auto my-8 rounded shadow-md">

      <form class="flex items-center gap-4 mb-4" @submit.prevent="generateQrCode">
        <input type="url"
          class="bg-gray-50 border p-2 border-gray-200 text-gray-900 text-sm w-full rounded focus:border-gray-400 focus:outline-none"
          x-model="url" placeholder="Entrer an url">
        <button class="px-4 py-2 bg-gray-200 text-sm rounded hover:bg-gray-300">generate</button>
      </form>
    </div>
  </main>

  <script>
    function initQrCode() {
      return {
        endpoint: 'https://api.qrserver.com/v1/create-qr-code/',
        url: '',
        src: 'https://avatars.githubusercontent.com/u/6890109?s=80&v=4',

        generateQrCode(model) {
          if (this.url === '') return
          return this.src = `${this.endpoint}?data=${this.url}`
        }
      }
    }
  </script>
</body>

</html>